# AREC - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–ø–∏—Å—å –∞—É–¥–∏–æ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –≤ –æ–±–ª–∞–∫–æ

## –û–ø–∏—Å–∞–Ω–∏–µ

AREC (Audio Recording) - —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–ø–∏—Å–∏ –∞—É–¥–∏–æ —Å USB-–º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ BY-LM40 –Ω–∞ Raspberry Pi Zero 2W. –°–∫—Ä–∏–ø—Ç –≤–∫–ª—é—á–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤ –≤ –æ–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (Google Drive –∏–ª–∏ –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫), —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –≤—Ä–µ–º–µ–Ω–∏ —á–µ—Ä–µ–∑ RTC –º–æ–¥—É–ª—å –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ–µ–≤ –ø–∏—Ç–∞–Ω–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω–æ–π —Å—Ä–µ–¥.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ó–∞–ø–∏—Å—å –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ
- üé§ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–ø–∏—Å—å** —Å USB-–º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ BY-LM40
- üîÑ **–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∑–∞–ø–∏—Å—å** - —Ä–∞–∑–±–∏–≤–∫–∞ –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç—ã –ø–æ 30 –º–∏–Ω—É—Ç
- üéµ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤** - Opus, AAC, MP3 —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –∫–∞—á–µ—Å—Ç–≤–æ–º
- üîß **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è Pi Zero 2 W** - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–∏—Å—Ç–µ–º—É

### –û–±–ª–∞—á–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚òÅÔ∏è **–ó–∞–≥—Ä—É–∑–∫–∞ –≤ –æ–±–ª–∞–∫–æ** (Google Drive, –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫)
- üì§ **–û—á–µ—Ä–µ–¥—å –∑–∞–≥—Ä—É–∑–∫–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- üîÑ **–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏** - –¥–æ 15 –ø–æ–ø—ã—Ç–æ–∫ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
- üóëÔ∏è **–ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞** - —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–µ–º
- üïê **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å RTC –º–æ–¥—É–ª–µ–º DS3231
- üåê **NTP —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- ‚è∞ **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ cron** - –≥–∏–±–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º

### –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- üîÑ **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ–µ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ
- üìÅ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º** - –∫–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞–∑–º–µ—Ä–∞ (–¥–æ 40 –ì–ë)
- üõ°Ô∏è **–ú–∞—Ä–∫–µ—Ä—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è** - –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö
- üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### –ê–≤—Ç–æ–º–æ–±–∏–ª—å–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞
- üîå **–†–∞–±–æ—Ç–∞ —Å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–º –ø–∏—Ç–∞–Ω–∏–µ–º** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏
- üå°Ô∏è **–ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π
- üì∂ **–£–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ç—å—é** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö Wi-Fi –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
- üöó **–ê–≤—Ç–æ–º–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ –º–∞—à–∏–Ω–µ

## –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ
- Raspberry Pi Zero 2W
- USB-–º–∏–∫—Ä–æ—Ñ–æ–Ω BY-LM40
- RTC –º–æ–¥—É–ª—å DS3231 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª—è)
- SD-–∫–∞—Ä—Ç–∞

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ
- Raspberry Pi OS (Debian-based)
- PulseAudio
- FFmpeg
- rclone
- i2c-tools (–¥–ª—è RTC)
- ntpdate (–¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏)
- Bash 4.0+

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
sudo apt install -y pulseaudio ffmpeg rclone i2c-tools ntpdate

# –ó–∞–ø—É—Å–∫ PulseAudio
pulseaudio --start
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ RTC –º–æ–¥—É–ª—è DS3231

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤—Ä–µ–º–µ–Ω–∏ –≤ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ (–±–µ–∑ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞) —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å RTC –º–æ–¥—É–ª—å DS3231.

#### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ DS3231 –∫ Raspberry Pi Zero 2 W:

| DS3231 | Raspberry Pi | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|--------------|----------|
| VCC    | 3.3V (Pin 1) | –ü–∏—Ç–∞–Ω–∏–µ 3.3V |
| GND    | GND (Pin 6)  | –ó–µ–º–ª—è |
| SDA    | GPIO 2 (Pin 3) | –î–∞–Ω–Ω—ã–µ I2C |
| SCL    | GPIO 3 (Pin 5) | –¢–∞–∫—Ç–æ–≤–∞—è –ª–∏–Ω–∏—è I2C |

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã:

```bash
# –í–∫–ª—é—á–µ–Ω–∏–µ I2C –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
sudo raspi-config
# Interface Options ‚Üí I2C ‚Üí Enable ‚Üí Yes

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ DS3231 –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
echo 'dtoverlay=i2c-rtc,ds3231' | sudo tee -a /boot/config.txt

# –û—Ç–∫–ª—é—á–µ–Ω–∏–µ fake-hwclock (–∑–∞–º–µ–Ω—è–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–º RTC)
sudo systemctl disable fake-hwclock
sudo systemctl stop fake-hwclock

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
sudo reboot
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è RTC –º–æ–¥—É–ª—è
sudo i2cdetect -y 1

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã RTC
sudo hwclock --show

# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ —Å RTC
sudo hwclock --hctosys

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
date
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏
sudo nano /lib/udev/hwclock-set
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `/lib/udev/hwclock-set`:
```bash
#!/bin/sh
# Reset the System Clock to UTC if the hardware clock from which we
# are about to copy the time is in localtime.

dev=$1

if [ -e /run/systemd/system ] ; then
    exit 0
fi

if [ -e /dev/rtc ] ; then
    /sbin/hwclock --rtc=/dev/rtc --hctosys
fi

if [ -e /dev/rtc0 ] ; then
    /sbin/hwclock --rtc=/dev/rtc0 --hctosys
fi

exit 0
```

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤ –Ω–∞ —Ñ–∞–π–ª
sudo chmod +x /lib/udev/hwclock-set

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã RTC –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
sudo reboot
sudo hwclock --show
```

#### –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫ RTC:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è I2C
sudo i2cdetect -y 1
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–∞ –∞–¥—Ä–µ—Å–µ 0x68

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
dmesg | grep rtc

# –†—É—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
sudo hwclock --systohc  # –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω–æ–µ –≤—Ä–µ–º—è –≤ RTC
sudo hwclock --hctosys  # –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤—Ä–µ–º—è –∏–∑ RTC –≤ —Å–∏—Å—Ç–µ–º—É

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏ RTC
sudo hwclock --show --verbose
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Wi-Fi –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

–î–ª—è —Ä–∞–±–æ—Ç—ã –≤ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ Wi-Fi —Å–µ—Ç–µ–π –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è.

#### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–∏—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π:
```bash
# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
nmcli connection show

# –°—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
nmcli connection show --active

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö Wi-Fi —Å–µ—Ç—è—Ö
nmcli device wifi list
```

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö Wi-Fi —Å–µ—Ç–µ–π:

**–°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
sudo nmcli connection add type wifi con-name "MyWiFi" ifname wlan0 ssid "MyWiFi"

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–æ–ª—è
sudo nmcli connection modify "MyWiFi" wifi-sec.key-mgmt wpa-psk
sudo nmcli connection modify "MyWiFi" wifi-sec.psk "password123"

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
sudo nmcli connection up "MyWiFi"
```

**–°–ø–æ—Å–æ–± 2: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –≤—Ä—É—á–Ω—É—é**
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
sudo nano /etc/NetworkManager/system-connections/MyWiFi.nmconnection
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:
```ini
[connection]
id=MyWiFi
uuid=12345678-1234-1234-1234-123456789abc
type=wifi

[wifi]
mode=infrastructure
ssid=MyWiFi
hidden=false

[ipv4]
method=auto

[ipv6]
addr-gen-mode=default
method=auto

[proxy]

[wifi-security]
key-mgmt=wpa-psk
psk=password123
```

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
sudo chmod 600 /etc/NetworkManager/system-connections/MyWiFi.nmconnection
sudo chown root:root /etc/NetworkManager/system-connections/MyWiFi.nmconnection

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ NetworkManager
sudo systemctl restart NetworkManager
```

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å–µ—Ç–∏ –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª—è:
- **–î–æ–º–∞—à–Ω—è—è —Å–µ—Ç—å** - –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–∏ –¥–æ–º–æ–π
- **–ú–æ–±–∏–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞** - –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ –¥–æ—Ä–æ–≥–µ
- **–ü—É–±–ª–∏—á–Ω—ã–µ Wi-Fi** - –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏:
```bash
# –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
sudo nmcli connection delete "MyWiFi"

# –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç —Å–µ—Ç–∏
sudo nmcli connection down "MyWiFi"

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ç–∏
sudo nmcli connection up "MyWiFi"

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Wi-Fi
sudo systemctl restart NetworkManager
```

#### –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å Wi-Fi:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ NetworkManager
sudo systemctl status NetworkManager

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
sudo journalctl -u NetworkManager -f

# –°–±—Ä–æ—Å –Ω–∞—Å—Ç—Ä–æ–µ–∫ Wi-Fi
sudo rm /etc/NetworkManager/system-connections/*
sudo systemctl restart NetworkManager
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ rclone

#### –î–ª—è Google Drive:
```bash
rclone config
# –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Google Drive
# –ò–º—è —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ: google.drive
```

#### –î–ª—è –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–∞:
```bash
rclone config
# –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–∞
# –ò–º—è —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ: yandex.disk
```

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `arec_unified.sh`:

```bash
nano arec_unified.sh
```

#### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `SPLIT_TIME=1800` - –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ñ–∞–π–ª–∞ (30 –º–∏–Ω—É—Ç)
- `AUDIO_FORMAT="opus"` - —Ñ–æ—Ä–º–∞—Ç –∞—É–¥–∏–æ (aac, opus, mp3)
- `BITRATE=64` - –±–∏—Ç—Ä–µ–π—Ç (–∫–±–∏—Ç/—Å)
- `CLOUD_SERVICE="yandex"` - –æ–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–∏—Å
- `MAX_STORAGE_MB=40960` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (40 –ì–ë)

### 6. –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

```bash
sudo mkdir -p /root/arec/pending
sudo chown root:root /root/arec
```

### 7. –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞

```bash
# –°–¥–µ–ª–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x arec_unified.sh

# –ó–∞–ø—É—Å–∫
sudo ./arec_unified.sh
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∫—Ä–∏–ø—Ç–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø–∏—Å–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|----------|----------------------|
| `SPLIT_TIME` | –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ (—Å–µ–∫—É–Ω–¥—ã) | 1800 (30 –º–∏–Ω) |
| `OUTPUT_DIR` | –ü–∞–ø–∫–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ | `/root/arec` |
| `SAMPLE_RATE` | –ß–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏ (–ì—Ü) | 48000 |
| `MIC` | –ò—Å—Ç–æ—á–Ω–∏–∫ –∑–≤—É–∫–∞ (–ø—É—Å—Ç–æ = –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ) | "" |

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è |
|----------|----------|-------------------|
| `AUDIO_FORMAT` | –§–æ—Ä–º–∞—Ç –∞—É–¥–∏–æ | aac, opus, mp3 |
| `BITRATE` | –ë–∏—Ç—Ä–µ–π—Ç (–∫–±–∏—Ç/—Å) | 32, 64, 128, 256 |

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±–ª–∞—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|----------|----------------------|
| `CLOUD_SERVICE` | –û–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–∏—Å | "yandex" |
| `DELETE_AFTER_UPLOAD` | –£–¥–∞–ª—è—Ç—å –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ | true |
| `MAX_STORAGE_MB` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (–ú–ë) | 40960 (40 –ì–ë) |
| `MAX_RETRIES` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ | 15 |
| `RETRY_DELAY` | –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏ (—Å–µ–∫—É–Ω–¥—ã) | 300 |

## –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ —Å RTC (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
- –ó–∞–ø—É—Å–∫ PulseAudio
- –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ BY-LM40
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–µ—Ä–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### 2. –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª
- –ó–∞–ø–∏—Å—å –∞—É–¥–∏–æ —á–µ—Ä–µ–∑ FFmpeg
- –ü–æ–ø—ã—Ç–∫–∞ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –æ—á–µ—Ä–µ–¥—å –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—á–µ—Ä–µ–¥–∏

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—á–µ—Ä–µ–¥–∏
- –§–æ–Ω–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞

### 4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º
- –ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞–∑–º–µ—Ä–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–æ–≤—ã–º –∑–∞–ø–∏—Å—è–º

## –§–æ—Ä–º–∞—Ç—ã –∞—É–¥–∏–æ

### Opus (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø—Ä–∏ –Ω–∏–∑–∫–æ–º –±–∏—Ç—Ä–µ–π—Ç–µ, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –≥–æ–ª–æ—Å–∞
- **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**: –ú–µ–Ω–µ–µ —Å–æ–≤–º–µ—Å—Ç–∏–º —Å–æ —Å—Ç–∞—Ä—ã–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: VoIP, —Å—Ç—Ä–∏–º–∏–Ω–≥, –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ

### AAC
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –•–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ, —à–∏—Ä–æ–∫–æ—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**: –ß—É—Ç—å –±–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

### MP3
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**: –ë–æ–ª—å—à–∏–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞, –ø–∞—Ç–µ–Ω—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º—ã —Å –º–∏–∫—Ä–æ—Ñ–æ–Ω–æ–º
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
pactl list sources short

# –ü—Ä–æ–≤–µ—Ä–∫–∞ PulseAudio
pulseaudio --check -v

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ PulseAudio
pulseaudio --kill
pulseaudio --start
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
ping -c 3 8.8.8.8

# –ü—Ä–æ–≤–µ—Ä–∫–∞ rclone
rclone about yandex.disk:
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–ø–∏—Å—å—é
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
tail -f /root/arec/arec.log

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
df -h /root/arec
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å RTC –º–æ–¥—É–ª–µ–º
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è I2C
sudo i2cdetect -y 1
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–∞ –∞–¥—Ä–µ—Å–µ 0x68

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã RTC
sudo hwclock --show

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ —Å–∏—Å—Ç–µ–º—ã
dmesg | grep rtc

# –†—É—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏
sudo hwclock --hctosys

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏ RTC
sudo hwclock --show --verbose

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤ –ª–æ–≥–∞—Ö —Å–∫—Ä–∏–ø—Ç–∞
grep "–≤—Ä–µ–º—è" /root/arec/arec.log
```

### –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è PulseAudio/ALSA

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å USB-–º–∏–∫—Ä–æ—Ñ–æ–Ω–∞–º–∏ –Ω–∞ Raspberry Pi –º–æ–≥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –≤ –ª–æ–≥–∞—Ö:

```
Error opening PCM device hw:0: Device or resource busy
ALSA woke us up to read new data from the device, but there was actually nothing to read.
Most likely this is a bug in the ALSA driver 'snd_usb_audio'.
GetManagedObjects() failed: org.freedesktop.DBus.Error.NoReply
```

**–≠—Ç–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Ä–∞–±–æ—Ç—É —Å–∫—Ä–∏–ø—Ç–∞** –∏ —è–≤–ª—è—é—Ç—Å—è —Ç–∏–ø–∏—á–Ω—ã–º–∏ –¥–ª—è USB-–∞—É–¥–∏–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤ –Ω–∞ Raspberry Pi.

#### –°–ø–æ—Å–æ–±—ã —É–º–µ–Ω—å—à–µ–Ω–∏—è –ª–æ–≥–æ–≤ PulseAudio:

**1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Ä–æ–≤–Ω—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è PulseAudio:**
```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ PulseAudio
sudo nano /etc/pulse/daemon.conf
```

–î–æ–±–∞–≤—å—Ç–µ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏:
```ini
# –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (error, warn, notice, info, debug)
log-level = warn

# –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–æ–≤ (syslog, file, stderr)
log-target = syslog

# –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
log-meta = false
```

**2. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ PulseAudio –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ PulseAudio
pulseaudio --kill

# –ó–∞–ø—É—Å–∫ —Å –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
pulseaudio --start
```

**3. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤ systemd:**
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π PulseAudio
sudo journalctl -u arec.service -f | grep -v "pulseaudio"

# –ò–ª–∏ —Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
sudo journalctl -u arec.service -f | grep -E "(ERROR|WARN|arec\.sh)"
```

**4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ALSA (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ):**
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ ALSA
sudo nano /etc/asound.conf
```

–î–æ–±–∞–≤—å—Ç–µ:
```
pcm.!default {
    type pulse
}
ctl.!default {
    type pulse
}
```

**5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl status arec.service

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ —Å–∫—Ä–∏–ø—Ç–∞
tail -f /root/arec/arec.log

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤
ls -la /root/arec/REC_*.opus
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–∞–∂–µ –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –º–æ–≥—É—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–ª—è—Ç—å—Å—è. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–∏.

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏
- –û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥: `/root/arec/arec.log`
- –õ–æ–≥–∏ FFmpeg: –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ª–æ–≥–µ
- –õ–æ–≥–∏ rclone: –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ª–æ–≥–µ

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –†–∞–∑–º–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ –≤ –æ—á–µ—Ä–µ–¥–∏
- –°—Ç–∞—Ç—É—Å –∑–∞–≥—Ä—É–∑–∫–∏

## –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —á–µ—Ä–µ–∑ cron

–°–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ –¥–æ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏. –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ cron:

#### 1. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ crontab
```bash
# –û—Ç–∫—Ä—ã—Ç—å crontab –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
sudo crontab -e
```

#### 2. –ü—Ä–∏–º–µ—Ä—ã —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

**–ó–∞–ø–∏—Å—å —Å 06:00 –¥–æ 23:30 –µ–∂–µ–¥–Ω–µ–≤–Ω–æ:**
```bash
# –ó–∞–ø—É—Å–∫ –≤ 06:00
0 6 * * * /root/arec/arec.sh &
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ 23:30
30 23 * * * pkill -f arec.sh
```

**–ó–∞–ø–∏—Å—å —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏ (–ø–Ω-–ø—Ç) —Å 09:00 –¥–æ 18:00:**
```bash
# –ó–∞–ø—É—Å–∫ –≤ 09:00 –≤ —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏
0 9 * * 1-5 /root/arec/arec.sh &
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ 18:00 –≤ —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏
0 18 * * 1-5 pkill -f arec.sh
```

**–ó–∞–ø–∏—Å—å –ø–æ –≤—ã—Ö–æ–¥–Ω—ã–º —Å 10:00 –¥–æ 22:00:**
```bash
# –ó–∞–ø—É—Å–∫ –≤ 10:00 –ø–æ –≤—ã—Ö–æ–¥–Ω—ã–º
0 10 * * 0,6 /root/arec/arec.sh &
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ 22:00 –ø–æ –≤—ã—Ö–æ–¥–Ω—ã–º
0 22 * * 0,6 pkill -f arec.sh
```

**–ó–∞–ø–∏—Å—å —Ç–æ–ª—å–∫–æ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —á–∞—Å—ã (–∫–∞–∂–¥—ã–π —á–∞—Å —Å 8:00 –¥–æ 20:00):**
```bash
# –ó–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–π —á–∞—Å —Å 8:00 –¥–æ 20:00
0 8-20 * * * /root/arec/arec.sh &
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ 50 –º–∏–Ω—É—Ç (—á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞—Ç—å—Å—è —Å –Ω–æ–≤—ã–º –∑–∞–ø—É—Å–∫–æ–º)
50 8-20 * * * pkill -f arec.sh
```

#### 3. –§–æ—Ä–º–∞—Ç cron
```bash
# * * * * * –∫–æ–º–∞–Ω–¥–∞
# ‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ
# ‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ –î–µ–Ω—å –Ω–µ–¥–µ–ª–∏ (0-7, –≥–¥–µ 0 –∏ 7 = –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ)
# ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –ú–µ—Å—è—Ü (1-12)
# ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –î–µ–Ω—å –º–µ—Å—è—Ü–∞ (1-31)
# ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –ß–∞—Å (0-23)
# ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –ú–∏–Ω—É—Ç–∞ (0-59)
```

#### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–µ–≥–æ crontab
sudo crontab -l

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ cron
sudo tail -f /var/log/syslog | grep CRON
```

#### 5. –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∫—Ä–∏–ø—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```bash
# –ú—è–≥–∫–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
pkill -f arec.sh

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ (–µ—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç)
pkill -9 -f arec.sh
```

#### 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–ª—É–∂–±—ã cron
sudo systemctl status cron

# –ï—Å–ª–∏ cron –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω, –∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ
sudo systemctl start cron
sudo systemctl enable cron

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ cron –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
sudo tail -f /var/log/syslog | grep CRON

# –ò–ª–∏ –≤ Ubuntu/Debian
sudo tail -f /var/log/cron.log

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–ø–∏—Å–µ–π
sudo grep CRON /var/log/syslog | tail -20


# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–µ–≥–æ crontab
sudo crontab -l

# –ü—Ä–æ–≤–µ—Ä–∫–∞ crontab –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
sudo crontab -u root -l



### systemd —Å–µ—Ä–≤–∏—Å (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ cron)

–î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å systemd:

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞
sudo nano /etc/systemd/system/arec.service
```

```ini
[Unit]
Description=AREC Audio Recording Service
After=network.target

[Service]
Type=simple
User=root
WorkingDirectory=/root/arec
ExecStart=/root/arec/arec.sh
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

```bash
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl enable arec.service
sudo systemctl start arec.service

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º
sudo systemctl status arec.service
sudo systemctl stop arec.service
sudo systemctl restart arec.service
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ systemd —Å–µ—Ä–≤–∏—Å–∞ —Å–∫—Ä–∏–ø—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ. –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ cron –∏–ª–∏ systemd timers.

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –∑–∞–ø–∏—Å–∏
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ª–æ–≥–∞–º
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–∏—Å—Ç–µ–º—É
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPN –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤
chmod 600 /root/arec/arec.log
chmod 700 /root/arec
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è Pi Zero 2 W
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Opus –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ CPU
- –§–æ–Ω–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—á–µ—Ä–µ–¥–∏
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã FFmpeg

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤
```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU
top -p $(pgrep ffmpeg)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
free -h

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
df -h
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ

–ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ –≤–æ–∑–Ω–∏–∫–∞—é—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏. –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã.

### –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### 1. –ü–∏—Ç–∞–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –°–∫–∞—á–∫–∏ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ/–æ—Å—Ç–∞–Ω–æ–≤–∫–µ –¥–≤–∏–≥–∞—Ç–µ–ª—è
- –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ –ø—Ä–∏ –Ω–∏–∑–∫–æ–º –∑–∞—Ä—è–¥–µ –ê–ö–ë
- –ö–æ—Ä–æ—Ç–∫–∏–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ä–µ–∂–∏–º–æ–≤

**–†–µ—à–µ–Ω–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ç–æ—Ä –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è 12V‚Üí5V
- –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä –¥–ª—è —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è —Å–∫–∞—á–∫–æ–≤
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –≤ —Å–∫—Ä–∏–ø—Ç–µ

```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è
check_power() {
    local voltage=$(vcgencmd measure_volts | cut -d= -f2 | cut -dV -f1)
    if (( $(echo "$voltage < 4.5" | bc -l) )); then
        log_message "–ù–∏–∑–∫–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ: ${voltage}V"
        return 1
    fi
    return 0
}
```

#### 2. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ü–µ—Ä–µ–≥—Ä–µ–≤ –ª–µ—Ç–æ–º (–¥–æ +60¬∞C)
- –ü–µ—Ä–µ–æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ –∑–∏–º–æ–π (–¥–æ -30¬∞C)
- –ë—ã—Å—Ç—Ä—ã–µ –ø–µ—Ä–µ–ø–∞–¥—ã –ø—Ä–∏ –ø—Ä–æ–≥—Ä–µ–≤–µ/–æ—Å—Ç—ã–≤–∞–Ω–∏–∏

**–†–µ—à–µ–Ω–∏—è:**
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Å—Å–∏–≤–Ω–æ–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ (—Ä–∞–¥–∏–∞—Ç–æ—Ä)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Ä–º–æ–∑–∞—â–∏—Ç–Ω—ã–π –∫–æ—Ä–ø—É—Å
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã

```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ —Å–∫—Ä–∏–ø—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
check_temperature() {
    local temp=$(vcgencmd measure_temp | cut -d= -f2 | cut -d\' -f1)
    if (( $(echo "$temp > 70" | bc -l) )); then
        log_message "–í—ã—Å–æ–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: ${temp}¬∞C"
        return 1
    fi
    return 0
}
```

#### 3. –í–∏–±—Ä–∞—Ü–∏—è

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –≤–∏–±—Ä–∞—Ü–∏—è –¥–≤–∏–≥–∞—Ç–µ–ª—è
- –¢—Ä—è—Å–∫–∞ –Ω–∞ –Ω–µ—Ä–æ–≤–Ω–æ—Å—Ç—è—Ö –¥–æ—Ä–æ–≥–∏
- –û—Å–ª–∞–±–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤

**–†–µ—à–µ–Ω–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω—Ç–∏–≤–∏–±—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫—Ä–µ–ø–ª–µ–Ω–∏—è
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ –∑–∞—â–∏—â–µ–Ω–Ω—ã–π –∫–æ—Ä–ø—É—Å
- –ù–∞–¥–µ–∂–Ω–æ –∑–∞–∫—Ä–µ–ø–∏—Ç—å SD-–∫–∞—Ä—Ç—É

#### 4. –°–µ—Ç—å

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–π Wi-Fi —Å–∏–≥–Ω–∞–ª
- –ß–∞—Å—Ç—ã–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É —Å–µ—Ç—è–º–∏
- –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤ –¥–≤–∏–∂–µ–Ω–∏–∏

**–†–µ—à–µ–Ω–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∫–∞–∫ —Ä–µ–∑–µ—Ä–≤
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É–ª—É—á—à–µ–Ω–Ω—É—é –∞–Ω—Ç–µ–Ω–Ω—É Wi-Fi
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ñ–ª–∞–π–Ω-—Ä–∞–±–æ—Ç—ã

```bash
# –£–ª—É—á—à–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å–µ—Ç–∏ –≤ —Å–∫—Ä–∏–ø—Ç–µ
check_network_quality() {
    local ping_time=$(ping -c 1 8.8.8.8 | grep "time=" | cut -d= -f4 | cut -d' ' -f1)
    if (( $(echo "$ping_time > 1000" | bc -l) )); then
        log_message "–ú–µ–¥–ª–µ–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ: ${ping_time}ms"
        return 1
    fi
    return 0
}
```

#### 5. –•—Ä–∞–Ω–∏–ª–∏—â–µ

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ü–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ SD-–∫–∞—Ä—Ç—ã –æ—Ç –≤–∏–±—Ä–∞—Ü–∏–∏
- –ö–æ—Ä—Ä—É–ø—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏ –≤–Ω–µ–∑–∞–ø–Ω–æ–º –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏
- –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–º –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

**–†–µ—à–µ–Ω–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—É—é SD-–∫–∞—Ä—Ç—É (Class 10, U3)
- –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ—á–∏—Å—Ç–∫—É —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤

```bash
# –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —Ñ–∞–π–ª–æ–≤
check_file_integrity() {
    local file="$1"
    if [ -f "$file" ]; then
        local size=$(stat -c%s "$file")
        if [ "$size" -lt 1024 ]; then
            log_message "–ü–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–π —Ñ–∞–π–ª: $file (${size} –±–∞–π—Ç)"
            return 1
        fi
    fi
    return 0
}
```

#### 6. –ê—É–¥–∏–æ

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –®—É–º –¥–≤–∏–≥–∞—Ç–µ–ª—è –∏ –¥–æ—Ä–æ–≥–∏
- –≠–ª–µ–∫—Ç—Ä–æ–º–∞–≥–Ω–∏—Ç–Ω—ã–µ –ø–æ–º–µ—Ö–∏
- –ü—Ä–æ–±–ª–µ–º—ã —Å USB-–º–∏–∫—Ä–æ—Ñ–æ–Ω–æ–º –ø—Ä–∏ –≤–∏–±—Ä–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω —Å —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ–º
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é —Ñ–æ–Ω–æ–≤–æ–≥–æ —à—É–º–∞ –≤ FFmpeg
- –ù–∞–¥–µ–∂–Ω–æ –∑–∞–∫—Ä–µ–ø–∏—Ç—å USB-–º–∏–∫—Ä–æ—Ñ–æ–Ω

### –°–∏—Å—Ç–µ–º–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ —Å–∫—Ä–∏–ø—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
system_health_check() {
    local cpu_temp=$(vcgencmd measure_temp | cut -d= -f2 | cut -d\' -f1)
    local voltage=$(vcgencmd measure_volts | cut -d= -f2 | cut -dV -f1)
    local memory=$(free | grep Mem | awk '{printf "%.1f", $3/$2 * 100.0}')
    
    log_message "–°–∏—Å—Ç–µ–º–∞: CPU=${cpu_temp}¬∞C, V=${voltage}V, RAM=${memory}%"
    
    if (( $(echo "$cpu_temp > 70" | bc -l) )); then
        log_message "–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï: –í—ã—Å–æ–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ CPU"
    fi
    
    if (( $(echo "$voltage < 4.5" | bc -l) )); then
        log_message "–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï: –ù–∏–∑–∫–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ"
    fi
}
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
auto_recovery() {
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
    if ! fsck -n /dev/mmcblk0p2 >/dev/null 2>&1; then
        log_message "–û—à–∏–±–∫–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã, —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞"
        sudo reboot
    fi
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
    local disk_usage=$(df / | tail -1 | awk '{print $5}' | sed 's/%//')
    if [ "$disk_usage" -gt 90 ]; then
        log_message "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –º–∞–ª–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ: ${disk_usage}%"
        cleanup_old_files
    fi
}
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é

#### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **–ö–æ—Ä–ø—É—Å**: –ó–∞—â–∏—â–µ–Ω–Ω—ã–π, —Å –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–µ–π
- **–ü–∏—Ç–∞–Ω–∏–µ**: –°—Ç–∞–±–∏–ª–∏–∑–∞—Ç–æ—Ä 12V‚Üí5V, –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä
- **SD-–∫–∞—Ä—Ç–∞**: –í—ã—Å–æ–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ (Class 10, U3)
- **–ú–∏–∫—Ä–æ—Ñ–æ–Ω**: –° —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ–º
- **–ö—Ä–µ–ø–ª–µ–Ω–∏–µ**: –ê–Ω—Ç–∏–≤–∏–±—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **RTC –º–æ–¥—É–ª—å**: DS3231 –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- **–û—Ö–ª–∞–∂–¥–µ–Ω–∏–µ**: –†–∞–¥–∏–∞—Ç–æ—Ä –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
- **–ê–Ω—Ç–µ–Ω–Ω–∞**: –£–ª—É—á—à–µ–Ω–Ω–∞—è Wi-Fi –∞–Ω—Ç–µ–Ω–Ω–∞
- **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ**: –í–Ω–µ—à–Ω–∏–π –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ —Å–∫—Ä—ã—Ç–æ–º –º–µ—Å—Ç–µ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞—â–∏—â–µ–Ω–Ω—ã–π –∫–æ—Ä–ø—É—Å
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –ü–û

### –ü—Ä–∞–≤–æ–≤—ã–µ –∞—Å–ø–µ–∫—Ç—ã

- –£–±–µ–¥–∏—Ç—å—Å—è –≤ –∑–∞–∫–æ–Ω–Ω–æ—Å—Ç–∏ –∑–∞–ø–∏—Å–∏ –≤ –≤–∞—à–µ–π —é—Ä–∏—Å–¥–∏–∫—Ü–∏–∏
- –ü–æ–ª—É—á–∏—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –∑–∞–ø–∏—Å—å –æ—Ç –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- –°–æ–±–ª—é–¥–∞—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ —Ö—Ä–∞–Ω–µ–Ω–∏—é –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å –≤ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö –±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f /root/arec/arec.log`
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ rclone
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞
4. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ)

## –õ–∏—Ü–µ–Ω–∑–∏—è

–°–∫—Ä–∏–ø—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è —Å–≤–æ–±–æ–¥–Ω–æ –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
